<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <link rel="shortcut icon" href="images/s4.png" type="image/x-icon">

  <title>Care Your Health</title>

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

  <!-- fonts style -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Poppins:400,600,700&display=swap" rel="stylesheet" />
  <!-- nice select -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css" integrity="sha256-mLBIhmBvigTFWPSCtvdu6a76T+3Xyt+K571hupeFLg4=" crossorigin="anonymous" />
  <!-- datepicker -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css">
  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="css/responsive.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700,300">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.1.2/css/material-design-iconic-font.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Epilogue:wght@400&family=Finger+Paint&display=swap">
	  
</head>

<body class="sub_page">
  <div class="hero_area">
    <!-- header section strats -->
    <header class="header_section">
      <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index.html">
            <h3>
              Care Your Health
            </h3>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse ml-auto" id="navbarSupportedContent">
            <ul class="navbar-nav  ml-auto">
              <li class="nav-item ">
                <a class="nav-link" href="index.html">Home </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="about.html"> Profile </a>
              </li>
              <li class="nav-item active">
                <a class="nav-link" href="service.html"> Services <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="appointment.html"> Appointment  </a>
              </li>
            </ul>
            <form class="form-inline ">
              <button class="btn nav_search-btn" type="submit">
                <i class="fa fa-search" aria-hidden="true"></i>
              </button>
            </form>
          </div>
        </nav>
      </div>
    </header>
    <!-- end header section -->
  </div>

  <!-- book section -->

  <section class="book_section layout_padding">
    <div class="container">
      <div class="row">
        <div class="col">
            <div class="card">
			    <div id="header">
			      <h2>Chat with AI Doctor</h2>
			    </div>
			    <div id="message-section">
			      <div class="message" id="bot"><span id="bot-response">Hello.. I'm listening! Go on..</span></div>
			    </div>
			    <div id="input-section">
			      <input id="input" type="text" placeholder="Where is nearest hospital" autocomplete="off" autofocus="autofocus"/>
			      <button class="send" onclick="sendMessage()">
			        <div class="circle"><i class="zmdi zmdi-mail-send"></i></div>
			      </button>
			    </div>
			  </div>
        </div>
      </div>
    </div>
  </section>

  <!-- end book section -->

  <!-- info section -->
  <section class="info_section"><br>
    <div style="text-align: center;">
      <div style="text-align: center;">
        <div>
          <div class="info_news">
            <h5>
              FOR ANY QUERY, PLEASE WRITE TO US
            </h5>
            <div class="info_contact"  style="text-align: center;">
              <a href="" style="text-align: center;">
                <i class="fa fa-map-marker" aria-hidden="true"></i> Location
              </a>
              <a href="" style="text-align: center;">
                <i class="fa fa-envelope" aria-hidden="true"></i> inquiry@careyourhealth.com
              </a>
              <a href="" style="text-align: center;">
                <i class="fa fa-phone" aria-hidden="true"></i> Call : +01 1234567890
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- end info section -->
<div class="box" style="position: fixed;
	  right: 0;
	  bottom: 0;
	  display: flex;
	  align-items: flex-end;
	  justify-content: center;">
	        <a href="#">
	         <img src="images/mic.png" alt="" />
	        </a>
	 </div>
  <!-- footer section -->
  <footer class="container-fluid footer_section">
    <div class="container">
      <p>
        &copy; <span id="displayYear"></span> All Rights Reserved By Me
      </p>
    </div>
  </footer>
  <!-- footer section -->

  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  <!-- nice select -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js" integrity="sha256-Zr3vByTlMGQhvMfgkQ5BtWRSKBGa2QlspKYJnkjZTmo=" crossorigin="anonymous"></script>
  <!-- datepicker -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
  <!-- custom js -->
  <script src="js/custom.js"></script>
  <!-- Google Map -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCh39n5U-4IoWpsVGUHWdqB6puEkhRLdmI&callback=myMap">
  </script>
  <script type="text/javascript">
  const userMessage = [
	  ["hi", "hey", "hello"],
	  ["where is nearest hospital", "hospital", "I am feeling not well"],
	  ["I am sick", "I am feeling not well"],
	  ["Book appointment", "I am feeling not well"],
	  ["sure", "yes", "no"],
	  ["are you genious", "are you nerd", "are you intelligent"],
	  ["i hate you", "i dont like you"],
	  ["how are you", "how is life", "how are things", "how are you doing"],
	  ["how is corona", "how is covid 19", "how is covid19 situation"],
	  ["what are you doing", "what is going on", "what is up"],
	  ["how old are you"],
	  ["who are you", "are you human", "are you bot", "are you human or bot"],
	  ["who created you", "who made you", "who is your creator"],

	  [
	    "your name please",
	    "your name",
	    "may i know your name",
	    "what is your name",
	    "what call yourself"
	  ],
	  ["i love you"],
	  ["happy", "good", "fun", "wonderful", "fantastic", "cool", "very good"],
	  ["bad", "bored", "tired"],
	  ["help me", "tell me story", "tell me joke"],
	  ["ah", "ok", "okay", "nice", "welcome"],
	  ["thanks", "thank you"],
	  ["what should i eat today"],
	  ["bro"],
	  ["what", "why", "how", "where", "when"],
	  ["corona", "covid19", "coronavirus"],
	  ["you are funny"],
	  ["i dont know"],
	  ["boring"],
	  ["im tired"]
	];
	const botReply = [
	  ["Hello!", "Hi!", "Hey!", "Hi there!"],
	  ["There is nearby hospital in Shah Alam", "Urgently go to Hospital Shah Alam, about 5km from here", "Find nearby Hospital?"],
	  ["Redirect to available doctor...", "Hey please wait, I'll find for help"],
	  ["<a href='appointment.html'>Booking here</a>", "I am feeling not well"],
	  ["Okay"],
	  ["Yes I am! "],
	  ["I'm sorry about that. But I like you dude."],
	  [
	    "Fine... how are you?",
	    "Pretty well, how are you?",
	    "Fantastic, how are you?"
	  ],
	  ["Getting better. There?", "Somewhat okay!", "Yeah fine. Better stay home!"],

	  [
	    "Nothing much",
	    "About to go to sleep",
	    "Can you guess?",
	    "I don't know actually"
	  ],
	  ["I am always young."],
	  ["I am just a bot", "I am a bot. What are you?"],
	  ["Sabitha Kuppusamy"],
	  ["I am nameless", "I don't have a name"],
	  ["I love you too", "Me too"],
	  ["Have you ever felt bad?", "Glad to hear it"],
	  ["Why?", "Why? You shouldn't!", "Try watching TV", "Chat with me."],
	  ["What about?", "Once upon a time..."],
	  ["Tell me a story", "Tell me a joke", "Tell me about yourself"],
	  ["You're welcome"],
	  ["Briyani", "Burger", "Sushi", "Pizza"],
	  ["Dude!"],
	  ["Yes?"],
	  ["Please stay home"],
	  ["Glad to hear it"],
	  ["Say something interesting"],
	  ["Sorry for that. Let's chat!"],
	  ["Take some rest, Dude!"]
	];

	const alternative = [
	  "Same here, dude.",
	  "That's cool! Go on...",
	  "Dude...",
	  "Ask something else...",
	  "Hey, I'm listening..."
	];

	const synth = window.speechSynthesis;

	function voiceControl(string) {
	  let u = new SpeechSynthesisUtterance(string);
	  u.text = string;
	  u.lang = "en-aus";
	  u.volume = 1;
	  u.rate = 1;
	  u.pitch = 1;
	  synth.speak(u);
	}

	function sendMessage() {
	  const inputField = document.getElementById("input");
	  let input = inputField.value.trim();
	  input != "" && output(input);
	  inputField.value = "";
	}
	document.addEventListener("DOMContentLoaded", () => {
	  const inputField = document.getElementById("input");
	  inputField.addEventListener("keydown", function (e) {
	    if (e.code === "Enter") {
	      let input = inputField.value.trim();
	      input != "" && output(input);
	      inputField.value = "";
	    }
	  });
	});

	function output(input) {
	  let product;

	  let text = input.toLowerCase().replace(/[^\w\s\d]/gi, "");

	  text = text
	    .replace(/[\W_]/g, " ")
	    .replace(/ a /g, " ")
	    .replace(/i feel /g, "")
	    .replace(/whats/g, "what is")
	    .replace(/please /g, "")
	    .replace(/ please/g, "")
	    .trim();

	  let comparedText = compare(userMessage, botReply, text);

	  product = comparedText
	    ? comparedText
	    : alternative[Math.floor(Math.random() * alternative.length)];
	  addChat(input, product);
	}

	function compare(triggerArray, replyArray, string) {
	  let item;
	  for (let x = 0; x < triggerArray.length; x++) {
	    for (let y = 0; y < replyArray.length; y++) {
	      if (triggerArray[x][y] == string) {
	        items = replyArray[x];
	        item = items[Math.floor(Math.random() * items.length)];
	      }
	    }
	  }
	  //containMessageCheck(string);
	  if (item) return item;
	  else return containMessageCheck(string);
	}

	function containMessageCheck(string) {
	  let expectedReply = [
	    [
	      "Good Bye, dude",
	      "Bye, See you!",
	      "Dude, Bye. Take care of your health in this situation."
	    ],
	    ["Good Night, dude", "Have a sound sleep", "Sweet dreams"],
	    ["Have a pleasant evening!", "Good evening too", "Evening!"],
	    ["Good morning, Have a great day!", "Morning, dude!"],
	    ["Good Afternoon", "Noon, dude!", "Afternoon, dude!"]
	  ];
	  let expectedMessage = [
	    ["bye", "tc", "take care"],
	    ["night", "good night"],
	    ["evening", "good evening"],
	    ["morning", "good morning"],
	    ["noon"]
	  ];
	  let item;
	  for (let x = 0; x < expectedMessage.length; x++) {
	    if (expectedMessage[x].includes(string)) {
	      items = expectedReply[x];
	      item = items[Math.floor(Math.random() * items.length)];
	    }
	  }
	  return item;
	}
	function addChat(input, product) {
	  const mainDiv = document.getElementById("message-section");
	  let userDiv = document.createElement("div");
	  userDiv.id = "user";
	  userDiv.classList.add("message");
	  userDiv.innerHTML = `<span id="user-response">${input}</span>`;
	  mainDiv.appendChild(userDiv);

	  let botDiv = document.createElement("div");
	  botDiv.id = "bot";
	  botDiv.classList.add("message");
	  botDiv.innerHTML = `<span id="bot-response">${product}</span>`;
	  mainDiv.appendChild(botDiv);
	  var scroll = document.getElementById("message-section");
	  scroll.scrollTop = scroll.scrollHeight;
	  //voiceControl(product);
	}
  </script>
  <!-- End Google Map -->
</body>

</html>